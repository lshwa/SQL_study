# [25-0W SQL 스터디] 0주차 공부 

## 서브쿼리 개념정리 
### 서브쿼리 (Subquery)란?
#### 15.2.15
서브쿼리는 다른 SQL 쿼리 내에 포함된 SELECT문을 의미함.
- 서브쿼리의 장점
1. 쿼리를 구조적으로 분리하여 각 부분을 독릭접으로 처리 가능
2. 복잡한 join 이나 union 을 대체하는 방식으로 유용함.
3. 많은 사람들이 서브쿼리를 복잡한 조인보다 가독성이 높다고 생각함. 

#### 15.2.15.2
- 서브쿼리를 사용한 비교 
일반적인 사용법 : non_subquery_operand comparison_operator (subquery)
특징: 
1. 서브쿼리는 비교 연산자 오른쪽에 위치하고, 비교 연산자로는 수학적 비교 계산 뿐만 아니라 LIKE 연산자도 사용이 가능함. 
2. 서브쿼리를 사용하면 집계 함수나 특정 조건에 맞는 값을 비교가 가능함. 

#### 15.2.15.3
- ANY : 서브쿼리에서 반환된 값 중 하나라도 비교 연산자가 참이면 TRUE를 반환.
- IN = ANY, IN은 ANY의 별칭
- SOME = ANY : SOME도 ANY의 별칭, 동등한 의미

#### 15.2.15.4 
- ALL 키워드 : 서브쿼리에서 반환되는 모든 값에 대해 비교 연산자가 참인지를 확인 
> 만약 서브쿼리의 결과가 비워있을 땐, 'TRUE'를 반환
- NOT IN = <> ALL : 두 개는 동일. 두 키워드 모두 서브쿼리의 값이 'FALSE' 일 떄 참을 반환

#### 15.2.15.6
- EXISTS : 서브쿼리내에 하나 이상의 행이 존재하면 'TRUE' 반환
- NOT EXISTS : 행이 없을 떄 'TRUE' 반환

#### 15.2.15.10
- 서브쿼리에서 생길 수 있는 오류들의 종류
1. LIMIT & IN/ALL/ANY/SOME 서브쿼리는 MySQL에 지원되지 않는 구문
2. 서브쿼리가 반환하는 컬럼 수가 맞지 않으면 오류 발생, 
3. 서브쿼리에서 하나 이상의 행을 반환하면 =, IN 등을 사용할 수 없고, ANY를 사용해야함.
4. 서브쿼리에서 업데이트 대상 테이블을 직접 참조하면 오류 발생
> 4번 문제의 해결을 위해 CTE나 파생 테이블(WITH)을 사용해야함. 

## 서브쿼리 문제풀이
### Q1. 많이 주문한 테이블 찾기 
![alt text](image/Week0_1.jpg)